(this["webpackJsonpsalt-and-satoshi"]=this["webpackJsonpsalt-and-satoshi"]||[]).push([[0],{106:function(e,t,n){},113:function(e,t){},130:function(e,t,n){"use strict";n.r(t);var a=n(11),s=n(4),r=n.n(s),i=n(47),c=n.n(i),u=(n(106),n(67)),o=n(150),p=n(5),d=n.n(p),l=n(40),y=n(43);var b=function(){return Object(a.jsx)("div",{style:{display:"flex",position:"absolute",top:"calc(50% - 100px)",width:"100%"},children:Object(a.jsx)("svg",{style:{margin:"auto",width:200,height:200},children:Object(a.jsx)("use",{width:80,height:80,href:"assets/icons.svg#refresh",fill:"#838b98",children:Object(a.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 40 40",to:"360 40 40",begin:"0s",dur:"4s",repeatCount:"indefinite"})})})})},f=n(73),j=(n(111),{eip1152contractAddress:"0xd07dc4262bcdbf85190c01c996b4c06a461d2430",minterAddress:"0x1efcb24f92daa1e04ba52e3d891beecee00c629d",firebaseConfig:{apiKey:"AIzaSyC8DwM9z-H9cSTCqHR4UGEvW86jL63sre0",projectId:"saltandsatoshi"},INFURA_JSON_RPC_API:{1:"https://mainnet.infura.io/v3/663207cc32894545b804fbc519d9fa2a",42:"https://kovan.infura.io/v3/663207cc32894545b804fbc519d9fa2a"},SELLER_CONTRACT_ADDRESS:{42:"0xD837F0658c74191056f222b3aCf3995e75AA3703"}});f.a.initializeApp(j.firebaseConfig);var m=f.a.firestore().collection("saltseasons");function h(e){return x.apply(this,arguments)}function x(){return(x=Object(l.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.where("networkId","==",t).get();case 2:return n=e.sent,a=n.docs.map((function(e){var t=e.data();return t.id=e.id,t})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(154),O=n(144),g=n(145),w=n(146),T=n(147),S=n(155),k=n(148),C=n(149),I=n(89);var A={TokenId:"20272",getJsonRpcProvider:function(e,t){return new I.a(e,t)}},M=n(90),P='[{"inputs":[{"internalType":"uint256","name":"_initialPrice","type":"uint256"},{"internalType":"uint256","name":"_priceStep","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[],"name":"Pause","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"payee","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"balance","type":"uint256"}],"name":"Sent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"payer","type":"address"},{"indexed":false,"internalType":"address","name":"nftAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"TokenPurchase","type":"event"},{"anonymous":false,"inputs":[],"name":"Unpause","type":"event"},{"inputs":[],"name":"currentPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"destroy","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceStep","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"purchaseToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_payee","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendTo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]';var _={contractABI:P,getContract:function(e,t){return new M.a(e,P,t)}},E=n(91);var F=function(e){return Object(a.jsx)(a.Fragment,{children:"\u039e".concat(Object(E.a)(e.number))})};var R=function(e){var t=e.saltSeason,n=A.getJsonRpcProvider(j.INFURA_JSON_RPC_API[t.networkId],t.networkId),s=Object(u.b)(),i=(s.account,s.library,r.a.useState(void 0)),c=Object(y.a)(i,2),o=c[0],p=c[1];r.a.useEffect((function(){if(void 0===o){var e=_.getContract(t.sellerContractAddress,n);p(e)}}),[o]);var b=r.a.useState(void 0),f=Object(y.a)(b,2),m=f[0],h=f[1];r.a.useEffect((function(){m||o&&Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.currentPrice();case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})))()}),[m,o]);var x=r.a.useState(void 0),I=Object(y.a)(x,2),M=I[0],P=I[1];r.a.useEffect((function(){M||o&&Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.priceStep();case 2:t=e.sent,P(t);case 4:case"end":return e.stop()}}),e)})))()}),[M,o]);var E=r.a.useState(void 0),R=Object(y.a)(E,2),N=R[0],J=R[1];return r.a.useEffect((function(){o&&void 0===N&&o.queryFilter(o.filters.TokenPurchase).then((function(e){console.log(e),J(e.filter((function(e){return"TokenPurchase"===e.event})))}))}),[o,N]),Object(a.jsxs)(v.a,{style:{margin:"2em",display:"inline-block"},children:[Object(a.jsxs)(O.a,{children:[Object(a.jsx)(g.a,{image:t.posterUrls[0],style:{height:300,width:300}}),Object(a.jsxs)(w.a,{children:[Object(a.jsxs)("p",{style:{fontSize:"2em"},children:["Season ",t.number]}),Object(a.jsx)("br",{}),Object(a.jsx)("h5",{style:{fontStyle:"italic"},children:t.title}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Edition of ",t.tokenIds.length]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Current price ",m?Object(a.jsx)(F,{number:m}):Object(a.jsx)(T.a,{size:15})]}),Object(a.jsx)("br",{}),N?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("p",{children:[N.length," sold"]}),Object(a.jsx)("br",{})]}):null,N?Object(a.jsx)(S.a,{variant:"determinate",value:100*Math.min(N.length/t.tokenIds.length,1)}):null]})]}),Object(a.jsx)(k.a,{children:Object(a.jsx)(C.a,{children:Object(a.jsx)("a",{href:"https://marketplace.saltandsatoshi.com/#",children:"Go to"})})})]})},N=n(152);var J=function(){var e=r.a.useState(void 0),t=Object(y.a)(e,2),n=t[0],s=t[1];return r.a.useEffect((function(){n||Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(42);case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))()}),[n,42]),n?Object(a.jsxs)("div",{children:[Object(a.jsx)("section",{id:"redemption-section",children:Object(a.jsx)("div",{id:"container19",className:"container default full screen",style:{minHeight:"auto"},children:Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)("div",{className:"inner",style:{padding:"3em 6em 1em 6em"},children:Object(a.jsx)("h2",{id:"text33",style:{fontFamily:"Montserrat",fontWeight:"normal"},children:"Showcase"})})})})}),Object(a.jsx)(N.a,{style:{marginTop:"3em",color:"lightgray",float:"left"},children:n.map((function(e){return Object(a.jsx)(R,{saltSeason:e})}))})]}):Object(a.jsx)(b,{})};function L(e){return new o.a(e)}var z=function(){return Object(a.jsx)(u.a,{getLibrary:L,children:Object(a.jsx)(J,{})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,157)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root")),D()}},[[130,1,2]]]);
//# sourceMappingURL=main.0701721a.chunk.js.map